#! /sbin/sh
#
# (c) 2001 Dr. Andreas Mueller, Beratung und Entwicklung
#
# Note: this script assumes the average table has correctly been filled
#       e.g. using the meteoavg program
#
# $Id: meteojob,v 1.5 2003/08/01 00:01:52 afm Exp $
#
station=Altendorf
s=`/usr/local/bin/date +%s`
s=`expr $s - \( $s % 300 \)`

for interval in 300 1800 7200 86400
do
	if [ `expr $s % $interval` -eq 0 ]
	then
		/usr/local/bin/meteodraw -s ${station}
			-g temperature -g temperature_inside -g rain	\
			-g wind -f /usr/local/etc/meteo.xml		\
			-c /usr/local/apache/htdocs/meteo.othello.ch/meteo \
			"$@" ${interval}
	fi
done

exit 0
