<html>
<head>
<link href="meteo.css" type="text/css" rel="stylesheet">
<title>Meteo Software Package</title>
<!-- $Id: meteo.html.in,v 1.8 2003/06/09 00:59:25 afm Exp $ -->
</head>
<body bgcolor="#ffffff">
<h1>Meteo</h1>
<p>
Welcome to the home of the meteo package.
This free software package is used to retrieve meteorological data
from a Davis Weather Monitor II or a Davis Vantage Pro Station.
It normalizes the data and stores a data point every minute in a MySQL
database.
Later on, graphs can be drawn and inserted into web pages that
display the development of the most important parameters.
Here are the stations used to develop this package:
<table width="100%">
<tr>
<th>Geographical Location</th>
<th>Current data</th>
<th>Browser</th>
</tr>
<tr>
<td valign="top">Altendorf, Schwyz, Switzerland
(<a href="http://www.othello.ch/meteo">further info</a>)
</td>
<td valign="top">
<a href="http://meteo.othello.ch/meteo/">
<img src="http://meteo.othello.ch/meteo/Altendorf-temperature-week.png"
width="250" height="72" border="0" />
</a>
</td>
<td valign="top">
<a href="http://meteo.othello.ch/meteo/meteobrowser.php">
<img src="http://meteo.othello.ch/meteo/Altendorf-temperature-year.png"
width="250" height="72" border="0" />
</a>
</td>
</tr>
<tr>
<td valign="top">Rossboda, Bosco/Gurin, Ticino, Switzerland
(<a href="http://grossalp.othello.ch">Web Cam and general info</a>)
</td>
<td valign="top">
<a href="http://grossalp.othello.ch/meteo/">
<img src="http://grossalp.othello.ch/meteo/Gurin-temperature-week.png"
width="250" height="72" border="0" />
</a>
</td>
<td valign="top">
<a href="http://meteo.othello.ch/meteo/meteobrowser.php?station=Gurin">
<img src="http://grossalp.othello.ch/meteo/Gurin-temperature-year.png"
width="250" height="72" border="0" />
</a>
</td>
</tr>
</table>
<p>
There also is a <a href="meteodata.html">page describing the graphs</a>.
Most of that information is now also included in the browser pages.
</p>
<p>
There are essentially two interfaces to the database:
<ol>
<li>
The <b>meteograph</b>(1) programm can be used to generate graphs for every
point in time, and to store them in some directory accessible via 
a web server. The <b>meteooverview</b>(1) script can generate some pages
referencing the graphs. This is essentially a static interface and is
usually used to display current weather conditions.
</li>
<li>
Starting with version 0.2, there is a PHP-based meteo browser that allows
to browse through the complete database at every level of detail available.
A sample installation is available at
<a href="http://meteo.othello.ch/meteo/meteobrowser.php">http://meteo.othello.ch/meteo/meteobrowser.php</a>.
See the <a href="README.browser">README.browser</a> for information about
installing the script.
Please note that it seems that the pages trigger a bug in Netscape Navigator, 
causing the graphs to overlap the text to their right.
</li>
</ol>
</p>
<p>
You may also want to read the <a href="README">README</a> for additional
information.
</p>
<h2>News</h2>
<p>
The current release (version @VERSION@) was published on @CONFIGDATE@.
See the <a href="NEWS">NEWS</a> file for the most important changes
in this release.
For a complete list of changes, go to the <a href="ChangeLog">Change Log</a>.
Note that 0.4.0 brought incompatible modifications in database format
(but included a programm to semi-automatically migrating old version
databases to the new format) and 0.5.0 brings incompatible changes in
configuration file format (now XML based).
</p>
<p>
Walter Poxon has contributed an
<a href="meteo-install.html">Installation Howto</a> (thanks Walter!),
which goes into some more detail.
</p>
<h2>Getting and installing the software</h2>
<p>
The meteo package is free software distributed under the GNU general
public license GPL. The full license is included with the package.
The current version is @VERSION@, it can be downloaded from
<a href="http://meteo.othello.ch/download/meteo-@VERSION@.tar.gz">http://meteo.othello.ch/download/meteo-@VERSION@.tar.gz</a>.
</p>
<p>
Configuration and Installation of the package follow the familiar
<tt>configure; make; make install</tt> pattern. For details see the
<tt><a href="INSTALL">INSTALL</a></tt> in the distribution.
</p>
<p>
If you encounter problems installing or using the meteo package,
you can try your luck with the mailing list, just send a message
containing nothing but ``subscribe meteo'' in the body to 
<a href="mailto:majordomo@lists.othello.ch">majordomo@lists.othello.ch</a>.
</p>

<h2>Configuring the software</h2>
<p>
After the software has been installed, it must be configured.
Follow the steps below for a successful configuration:
<ol>
<li>
Most configuration happens inside the 
<b>meteo.conf</b>(5) configuration file. A sample file is include
with the distribution.
</li>
<li>
A minimal installation will run one instance of <b>meteopoll</b>(1)
to collect data from the weather station and write it to the database.
Furthermore, it will run a cron job using
<b>meteograph</b>(1) to update the graphs for the web page, a sample
cron job script is included in the distribution.
</li>
<li>
More sophisticated installations will make use of the decoupling
of weather station and database through a message queue, which involves
running the <b>meteopoll</b>(1) program with the <b>-b msgqueue</b> option,
and in addition running an instance of the dequeuer process
<b>meteodequeue</b>(1).
</li>
<li>
After some time, most installations will begin to use the
<b>meteoavg</b>(1) program to compute averages for the long term
graphs and store them in a separate table.
</li>
<li>
To top off the installation, configure the meteo browser to allow
graphical browsing of the meteo database.
See the <a href="README.browser">README.browser</a> for details.
</li>
</ol>
<p>
For details of the configuration of all these programs, please consult
the manual pages installed with the distribution.
</p>

<h2>Utilities</h2>
<p>
Some utilities included in the package are not documented in manual
pages. Here is a short description of these tools:
<dl>
<dt><b>meteojob</b></dt>
<dd>This script can be run from cron to recompute exactly those
graphs that need updating. The script is not very sophisticated,
e.g. it does not check whether the graphs have previously been
generated, but it can be used as a starting point for a more elaborate
solution.</dd>
<dt><b>meteooverview</b></dt>
<dd>Run with exactly one argument, the name of the station, this script
generates HTML pages in the current directory with embedded tags linking
to the graphs. The pages show overviews of all parameters for either a day,
a week, a month or a year, or an overview of only one parameter over all
these periods on one page.
The pages at <a href="http://grossalp.othello.ch/meteo/">http://grossalp.othello.ch/meteo/</a> have been generated with this script.
Again, the script isn't very intelligent, but helpful as a start.
</dl>
</p>

<h2>Acknowledgments</h2>
<p>
Although the software protocol used by the new Vantage Pro station
is not officially published yet, a preliminary draft of the description
of the changes, provided by <a href="http://www.davisnet.com">Davis
Instruments</a>, has been very helpful in
adapting the software for the Vantage Pro.
</p>
<p>
Over time, many people have contributed by submitting bug reports
(the bugs themselves were all my fault, of course). I tried to
keep track of them in the AUTHORS file, please send me mail if I
forgot someone.
</p>
<p>
This software was mainly developed by
<a href="mailto:andreas.mueller@othello.ch">Andreas M&uuml;ller</a>,
contributions by others are detailed in the <a href="README">README</a>.
You can also see the <a href="http://meteo.othello.ch/temp.html">server room
temperature</a> where the main development machine lives.
</p>

<hr noshade size="1" />
<p>
&copy; 2001 <a href="mailto:afm@othello.ch">Dr. Andreas M&uuml;ller</a>,
<a href="http://www.othello.ch">Beratung und Entwicklung</a>
<br />
<i>Last modified: $Date: 2003/06/09 00:59:25 $</i>
</p>
</body>
</html>
